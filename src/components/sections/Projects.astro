---
import { getCollection } from 'astro:content';
import { BadgeList, LinkButton, Section, HorizontalSpacer } from "../";
import Logo from '@assets/svg/projects.svg';

const projects = await getCollection('projects');
---
<div class="bg-primary/5">
    <Section headingTitle="Showcased Projects" subtitle='Presented projects at international conferences' class="space-y-3 container mx-auto">
        <Logo slot="beforeHeading" width={64} height={64} />
        <HorizontalSpacer />
        <div class="grid grid-cols-5 gap-4">
            <div class="col-span-2" tabindex="0">
                {projects.map(({ data: project }, index) => (
                    // <div class:list={["collapse bg-base-100 border border-base-300", index === 0 ? "collapse-open" : ""]}>
                    <div class:list={["collapse bg-base-100 border border-base-300 p-3 mb-2"]}>
                        <input type="radio" name="my-accordion-1" />
                        <h2 class="collapse-title card-title">{project.title}</h2>
                        {/* <h3 class="card-subtitle text-secondary">{project.owner}</h3> */}
                        {/* <div class="collapse-content text-sm">{project.contributions}</div> */}
                        <div class="collapse-content card-body-container space-y-5">
                            {/* <span class="card-info-title">üí° Overview</span> */}
                            {/* <p>{project.overview}</p> */}
                            <span class="card-info-title">‚úçÔ∏è Contribuitions</span>
                            <p class="leading-8">{project.contributions}</p>
                            {/* <span class="card-info-title">üóìÔ∏è Date</span> */}
                            {/* <span class="block">{project.period}</span> */}
                            <HorizontalSpacer />
                            <LinkButton href={project.url} target="_blank" rel="noreferrer" displayDefaultIcon>View details</LinkButton>
                        </div>
                    </div>    
                ))}
            </div>
            <div class="col-span-3">
                __CONTENT__
            </div>
        </div>
        
        <!-- {projects.map(({ data: project }) => (
            <article class="card">
                <div class="card-body">
                    <h2 class="card-title">{project.title}</h2>
                    <h3 class="card-subtitle text-secondary">{project.owner}</h3>
                    <div class="card-body-container">
                        <div>
                            <span class="card-info-title">üí° Overview</span>
                            <p>{project.overview}</p>
                            <span class="card-info-title">‚úçÔ∏è Contribuitions</span>
                            <p>{project.contributions}</p>
                            <span class="card-info-title">üóìÔ∏è Date</span>
                            <span class="block">{project.period}</span>
                        </div>
                        <div>
                            <span class="card-info-title">üßë‚Äçüíª Role</span>
                            <p class="font-semibold">{project.contribute_as}</p>
                            <span class="card-info-title">üìç Showcased at</span>
                            <span class="block font-semibold">{project.showcased_at}</span>
                            <div class="flex items-center gap-2">
                                <img src={project.flag_asset} alt={`Flag ${project.location}`} />
                                <span>{project.location}</span>
                            </div>
                            <span class="card-info-title my-6 block">üíª Technologies</span>
                            <BadgeList items={project.technologies} badgeClass="font-semibold badge-accent" />
                        </div>
                    </div>
                    <div class="block my-2"></div>
                    <LinkButton href={project.url} target="_blank" rel="noreferrer" displayDefaultIcon>View details</LinkButton>
                </div>
            </article>
        ))} -->
    </Section>
</div>

<style>
    @reference "tailwindcss";

    .card {
        @apply rounded-lg p-4;
        color: var(--color-neutral-dark);
    }

    .card-body-container > div {
        @apply space-y-3 text-lg leading-9 text-neutral-800;
    }

    .card-title {
        @apply text-2xl;
    }

    .card-subtitle {
        @apply text-lg font-light;
    }

    .card-info-title {
        @apply w-full text-neutral-400 text-sm uppercase my-3 block;
    }
</style>
