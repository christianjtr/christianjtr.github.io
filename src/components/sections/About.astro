---
import { Credentials } from '.';
import { section_about } from '@content/common.json';
import { HorizontalSpacer } from "../";
import RocketIcon from '@assets/svg/rocket.svg';
import MagicStickIcon from '@assets/svg/magic_stick.svg';
import CodeFileIcon from '@assets/svg/code_file.svg';
---

<div class="container mx-auto px-5">
    <div class="grid md:grid-cols-6">
        <div class="col-span-3 space-y-4 content-center">
            <p class="flex items-center gap-2 font-medium">
                <img src="/src/assets/gifs/wave.gif" width="64" height="64" alt="Waving" aria-label="Waving"/>
                <span class="text-3xl font-semibold text-accent">{section_about.greeting}</span>
            </p>
            <h1 class="font-semibold text-7xl leading-20" set:html={section_about.my_name} />
            <p class="text-xl leading-8 p-2 text-neutral-600 m-0">{section_about.summary}</p>
        </div>
        <div class="col-span-3">
            <div class="p-24 relative">
                <figure class="avatar-image">
                    <img src="/src/assets/images/me.png" alt="My image" aria-label="My image"/>
                </figure>
                <div class="chat chat-end absolute top-60 left-0 w-1/3">
                    <div class="chat-bubble">
                        <div class="text-slider-mask">
                            <div class="text-slider">
                                {section_about.avatar_messages.map(message => (
                                    <p>{message}</p>
                                ))}
                                <p>{section_about.avatar_messages[0]}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="grid md:grid-cols-8 gap-8 shadow-lg rounded-lg px-5 py-3 border border-neutral-100">
        <div class="col-span-2 w-full rounded-lg">
            <span class="block font-semibold text-xl my-2">{section_about.hobbies_title}</span>
            <span class="block text-xl">{section_about.hobbies}</span>
            <span class="block text-xs my-3 text-neutral-600">{section_about.language_tip}</span>
        </div>
        <div class="col-span-6 flex items-center">
            <div class="stats stats-vertical md:stats-horizontal w-full">
                {section_about.languages.map(language => (
                    <div class="stat space-y-1">
                        <div class="stat-figure text-4xl">{language.emoji}</div>
                        <div class="stat-value font-semibold text-xl">{language.name}</div>
                        <div class="stat-desc">{language.proficiency}</div>
                        <progress class="progress progress-primary w-40" value={language.value} max="100" />
                    </div>
                ))}
            </div>
        </div>
    </div>
    <HorizontalSpacer />
    <div class="grid md:grid-cols-6 gap-8">
        <div class="col-span-1">
            <h3 class="text-3xl font-semibold" set:html={section_about.expertise.title}></h3>
        </div>
        <div class="col-span-5">
            <div class="divider divider-end flex items-center">
                <p class="tooltip tooltip-primary" data-tip={section_about.v_shaped_explanation}>
                    <span class="uppercase font-semibold text-primary cursor-pointer">{section_about.v_shaped_profile}</span>
                </p>
                <img src="/src/assets/gifs/crystal_ball.gif" width="48" height="40" alt="Crystal ball" aria-label="Crystal ball"/>
            </div>
        </div>
    </div>
    <br />
    <div class="grid md:grid-cols-8 gap-8">
        <div class="col-span-2">
            <p class="flex text-lg leading-8">
                <font class="text-7xl text-primary mr-3">â€œ</font>
                <br />
                {section_about.about_me}
            </p>
        </div>
        {section_about.expertise.subjects.map((subject) => (
            <div class="card-informative border-neutral-300">
                <div class="bg-primary/5 w-fit rounded-full p-3">
                    {subject.category === "product" && <RocketIcon width={42} height={42} />}
                    {subject.category === "coding" && <CodeFileIcon width={42} height={42} />}
                    {subject.category === "data" && <MagicStickIcon width={42} height={42} />}
                </div>
                <span class="block my-5 text-2xl font-medium">{subject.name}</span>
                <ul class="space-y-2">
                    {subject.topics.map((topic) => (
                        <li class="md:text-sm text-lg text-neutral-600">{topic}</li>
                    ))}
                </ul>
            </div>
        ))}
    </div>
    <br />
    <Credentials />
    <HorizontalSpacer />
</div>

<style>
    @reference "tailwindcss";
    
    .card-informative {
        @apply col-span-1 md:col-span-2 border-1 px-5 py-7 rounded-lg;
    }

    .card-informative:hover {
        @apply border-indigo-400 shadow-lg shadow-indigo-200;
    }
    .avatar-image {
        border-radius: 50%;
        background: linear-gradient(135deg, var(--color-cobalt-blue) 0%, var(--color-electric-teal) 100%);
    }

    .text-slider-mask {
        @apply h-[2.6rem] overflow-hidden;
    }

    .text-slider {
        animation: slideText 16s infinite cubic-bezier(0.7, 0, 0.3, 1);
    }

    .text-slider p {
        line-height: 1.3em;
    }

    .text-slider-item {
        @apply leading-[1.3rem];
    }

    @keyframes slideText {
        0%, 25% { transform: translateY(0%); }
        30%, 45% { transform: translateY(-25%); }
        50%, 70% { transform: translateY(-50%); }
        75%, 94.99% { transform: translateY(-75%); } 
        95%, 100% { transform: translateY(0%); } 
    }
</style>